import{f as v,h as I,i as D,E as H,H as L,j as O,k as Y,l as F,m as S,o as h,q as N,t as R,U,u as j,v as p,w,x as B,y as C,S as M}from"./iHLyT_5S.js";function Z(f,t,[r,a]=[0,0]){I&&r===0&&D();var i=f,s=null,l=null,u=U,k=r>0?H:0,n=!1;const g=(T,c=!0)=>{n=!0,A(c,T)},A=(T,c)=>{if(u===(u=T))return;let E=!1;if(I&&a!==-1){if(r===0){const e=i.data;e===L?a=0:e===O?a=1/0:(a=parseInt(e.substring(1)),a!==a&&(a=u?1/0:-1))}const q=a>r;!!u===q&&(i=Y(),F(i),S(!1),E=!0,a=-1)}u?(s?h(s):c&&(s=N(()=>c(i))),l&&R(l,()=>{l=null})):(l?h(l):c&&(l=N(()=>c(i,[r+1,a]))),s&&R(s,()=>{s=null})),E&&S(!0)};v(()=>{n=!1,t(g),n||A(null,null)},k),I&&(i=j)}function b(f,t){return f===t||(f==null?void 0:f[M])===t}function z(f={},t,r,a){return p(()=>{var i,s;return w(()=>{i=s,s=[],B(()=>{f!==r(...s)&&(t(f,...s),i&&b(r(...i),f)&&t(null,...i))})}),()=>{C(()=>{s&&b(r(...s),f)&&t(null,...s)})}}),f}export{z as b,Z as i};
